{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Dashboard</h2>
    
    <h3>Progress List</h3>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Course Name</th>
                <th>Progress (%)</th>
                <th>Last Accessed</th>
            </tr>
        </thead>
        <tbody>
            {% if progress_list %}
                {% for progress in progress_list %}
                <tr>
                    <td>{{ progress.course.course_name }}</td>
                    <td>{{ progress.progress_percentage }}%</td>
                    <td>{{ progress.last_accessed|date:"Y-m-d H:i" }}</td>
                </tr>
                {% endfor %}
            {% else %}
                <tr><td colspan="3">No progress data available.</td></tr>
            {% endif %}
        </tbody>
    </table>

    <h3>Activity Log</h3>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Activity Type</th>
                <th>Details</th>
                <th>Timestamp</th>
            </tr>
        </thead>
        <tbody>
            {% if activity_logs %}
                {% for log in activity_logs %}
                <tr>
                    <td>{{ log.get_activity_type_display }}</td>
                    <td>{{ log.activity_details }}</td>
                    <td>{{ log.activity_timestamp }}</td>
                </tr>
                {% endfor %}
            {% else %}
                <tr><td colspan="3">No activity records found.</td></tr>
            {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}